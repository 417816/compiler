# compiler
自作コンパイラ

## Overview
このコンパイラは，再帰下降型の構文解析と構文主導型のコード生成に基づく1パスのコンパイラである．

## Description
compile.c : 字句解析，構文解析，意味解析，コード生成を順に行なわず，これらの処理をすべて，原始プログラムを先頭から順に1度読む間に並行させる．また，解析木も実際には作らず，コンパイラ中の手続き呼び出しに解析木と同じ構造を持たせる．   
scope.cpr : 引き数と局所変数に関する試験用コード．(入力された数字)^(入力された数字)を返す．これから目的コードのscope.pcoファイルを作成する．  
recgcd.cpr : 再帰に関する試験用コード．(１つ目に入力された数)÷(２つ目に入力された数)のあまりの出力を３回繰り返す．これから目的コードのrecgcd.pcoファイルを作成する．  
おまけ-> calculate.c : LDC 命令を生成する処理


### Syntax
プログラム → OPT[ var 変数宣言 ] SEQ[ fun 関数定義 ] END_OF_INPUT

変数宣言   → 識別子 , … ;

関数定義   → void 識別子 ( OPT[ 識別子 , … ] ) { OPT[ var 変数宣言 ] SEQ 文 }
           ｜ int  識別子 ( OPT[ 識別子 , … ] ) { OPT[ var 変数宣言 ] SEQ 文 }

文         → 識別子 ( OPT[ 式 , … ］) ;
           ｜ 識別子 = 式 ;
           ｜ if ( 式 ) 文 OPT[ else 文 ]
           ｜ while ( 式 ) 文
           ｜ { SEQ 文 }
           ｜ return OPT 式 ;

式         → 比較式 [ == ｜ != ] …

比較式     → 算術式 [ > ｜ >= ｜ < ｜ <= ] …

算術式     → 項 [ + ｜ - ] …

項         → 因子 [ * ｜ / ｜ % ] …

因子       → OPT[ + ｜ - ] 原子式

原子式     → 数
           ｜ ( 式 )
           ｜ 識別子
           ｜ 識別子 ( OPT[ 式 , … ] )  

## Usage
make  
./compile 原始プログラム > 目的コード  
./run 目的コード
### example
make  
./compile scope.cpr > scope.pco  
./run scope.pco  
引数が１つなので数字を入力する．（もしくはecho 引数 | ./run scope.pcoと実行する）
